<html>
<!-- <script src="./algorithms/4sum/index.js"></script> -->
<script>
    var spiralOrder = function (matrix) {
        let totalRow = matrix.length,
            totalCol = matrix[0].length,
            total = totalCol * totalRow;

        let visited = new Array(totalRow).fill(0).map(() => new Array(totalCol));

        let curRow = 0, curCol = 0, directionIndex = 0, nextRow = 0, nextCol = 0;

        let direction = [
            [0, 1],
            [1, 0],
            [0, -1],
            [-1, 0]
        ];

        let result = [];
        for (let i = 0; i < total; i++) {
            result.push(matrix[curRow][curCol]);
            visited[curRow][curCol] = true;
            nextRow = curRow + direction[directionIndex][0];
            nextCol = curCol + direction[directionIndex][1];

            if (
                !(
                    0 <= nextRow
                    && 0 <= nextCol
                    && nextCol < totalCol
                    && nextRow < totalRow
                    && !(visited[nextRow][nextCol])
                )
            ) {
                directionIndex = (directionIndex + 1) % 4;
            }

            curRow += direction[directionIndex][0];
            curCol += direction[directionIndex][1];
        }
        return result;
    };
    var matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]];

    var result = spiralOrder(matrix);
    console.log(result);

</script>

</html>